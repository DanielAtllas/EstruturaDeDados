<!DOCTYPE html>

<html lang="pt-br">
    <head>
        <meta charset="utf-8">
        <title>Arvores - Estrutura de Dados</title>
        <meta name="description" content="Este é um site referente à estudos sobre arvores em Estrutura de dados.">
    </head>
    <body>
        <h1>Arvores - Estrutura de Dados</h1>
        <p>É uma abstração matemática usada para representar uma <strong>estrutura hierárquica</strong> não linear, definida por um conjunto de <strong>nós</strong> e <strong>arestas</strong>. Além disso, possuem 3 características que a definem:</p>
        <ol>
            <li>Não direcionada</li>
                <p>Não existe <strong>nenhuma orientação</strong> quanto ao <strong>sentido das arestas</strong>.</p>
            <li>Conexa</li>
                <p>Existe exatamente um <strong>caminho entre</strong> quaisquer <strong>dois vertices</strong> na árvore.</p>
            <li>Acíclica</li>
                <p><strong>Não possui ciclos.</strong></p>
        </ol>
        <p>Sendo representada basicamente por:</p>
        <pre>
              A        
            /   \      
            
         B         C   
       / | \        \ 
      D  E  F        G
      
      
      A = <strong>Raiz</strong>
      
      B/C = <strong>Nó interno</strong>
      
      D/E/F/G = <strong>Folha</strong>
        </pre>
        <p>Ou seja, há divisões de níveis (normalmente 3), sendo a primeira camada a <strong>raiz</strong> (o topo da árvore), a segunda camada <strong>nó interno</strong> (estando logo após a raiz, como um tronco) e por fim as <strong>folhas</strong> (sendo a base da árvore). Perceba qie uma noção de pirâmide é gerada, por mais que o sentido de árvore esteja de cabeça pra baixo. Além disso, há a implementação do conceito de <strong>subárvores</strong>, que relata que dado um nó de uma árvore, <strong>cada filho seu é considerado a raiz de uma subarvore</strong>, assim como o <strong>grau de cada nó é dado pela quantidade de filhos</strong>:</p>
        <pre>
              A        
            /   \      
            
         B         C   
       / | \        \ 
      D  E  F        G
      
      
      A = <strong>Grau 2</strong>
      
      B = <strong>Grau 3</strong>
      
      C = <strong>Grau 1</strong>
      
      D/E/F/G = <strong>Grau 0</strong>
        </pre>
        <hr>
        <ul>
            <li><strong>Níveis de uma árvore</strong></li>
                <p>Os níveis de uma árvore são dados a partir da divisão de hierarquia dos nós, logo o <strong>nível 0</strong> sempre será a <strong>raiz</strong>. Dessa forma, é contagem é continuada a partir de cada nível/divisão a baixo. Dito isso, é possível determinar a <strong>profundidade/altura</strong> de uma árvore a partir da quantidade de níveis presentes nela:</p>
                <pre>
              A        
            /   \      
            
         B         C   
       / | \        \ 
      D  E  F        G
      
      
      A = <strong>Nível 0</strong>
      
      B/C = <strong>Nível 1</strong>
      
      D/E/F/G = <strong>Nível 2</strong>
      
      <strong>Altura</strong> = 3 (3 níveis)
                </pre>
            <hr>
            <li><strong>Árvores binárias</strong></li>
            <p>No conceito de árvore binária, uma regra deve ser implementada, onde o fao de que <strong>cada nó só pode possuir no máximo 2 subarvores</strong> (ou nenhuma), podendo ser de três tipos:</p>
            <ol>
                <li>Esritamente</li>
                    <p>Cada nó tem 0 ou 2 subarvores</p>
                <li>Completa</li>
                    <p>É uma árovre estritamente oinde todas as folhas estão no mesmo nível</p>
                <li>Quase completa</li>
                    <p>A diferença de altura entre as subarvores de um nó qualquer, é no máximo 1</p>
            <p>Além disso, há o conceito que relata que uma árvore com raiz, possui a <strong>SAE</strong> (subarvore da esquerda) e a <strong>SAD</strong> (subarvore da direita), como no exemplo a seguir junto a implementação de vetores:</p>
                <pre>
              A        
            /   \      
            
         B         C 
         
           0   1   2 
         | A | B | C |
         
         
         Filho_Esq = 2*pai+1
         
         Filho_Dir = 2*pai+2
                </pre>
                
            </ol>
            <hr>
            <li><strong>Implementação em C</strong></li>
                <p>Logo, em seu conceito e implementação, <strong>ao inserir um novo elemento/nó</strong>, o mesmo dever ser <strong>comparado com seu superior</strong>, de forma a identificar se o novo é maior ou menor, onde se <strong>o novo elemento for menor, o mesmo é transferido para a sub-árvore esquerda</strong> e caso o <strong>novo elemento seja maior, o mesmo é transferido para a sub-árvore direita.</strong>. Caso haja outros elementos na subárvore, repete-se o mesmo procedimento até que se encontre um espaço NULL para alocar o novo elemento. Ou seja, ao inserir um novo elemento, ele é comparado com a raiz e desce para o outro nível, repete-se o procedimento até que o aloque. Como no exemplo a seguir:</p>
                <pre>
                     2
                   /   \
                  1     7
          
        Deseja-se então alocar uma variável X com o valor 5.
        
        Compara-se primeiramente com a raiz (caso maior-direita, caso menor-esquerda)
        
                    X > 2
                    
                     2
                   /   \ X
                  1     7
                  
        Há um elemento no próximo nível, o elemento 7. Então, repete-se o procedimento de comparação com o valor 7
        
                    X menor 7
                    
                    2
                  /   \
                 1     7
                      /
                     X
                </pre>
            <hr>
            <li><strong>Árvore AVL</strong></li>
                <p>Basicamente, se baseia em um tipo de <strong>validação</strong> para a árvore, tornando-a <strong>balanceada</strong> em relação à altura de suas sub-árvore, ou seja, <strong>para tornar uma árvore balanceada ou não, as suas sub-árvores devem ser analisadas</strong>.</p>
                <p>Nesta análise, a <strong>altura</strong> que deve ser verificada, onde a <strong>diferença entre as alturas das sub-árvores de um elemento devem estar entre o conjunto [1,0,-1]</strong>, logo se a difereça estiver dentro deste conjunto, a árvore é balanceada. Caso contrário (diferença fora do conjunto), a árvore está desbalanceada. Por exemplo:</p>
                <p><strong>OBS: A altura de uma sub-árvore NULL é igual a -1.</strong></p>
                <pre>
                10
              /    \
             1     26
                  /  \
                 15  50
                 
            -------Alturas------
            
            10 -> Altura = 2
            
            26 -> Altura = 1
            
            1/15/50 -> Altura = 0
            
            -------Balanceamento------
            
            1/15/50 -> -1 - (-1) = 0 -> <strong>BALANCEADO</strong>
            
            26/10 -> 0 - 0 = 0 -> <strong>BALANCEADO</strong>
            
            
            
    <strong>Porém, ao inserirmos um valor 3 e depois inserirmos um valor 5, continuará balanceado?</strong>        
    
                
                  10        
                /    \      
               1      26   
                \    /  \ 
                 3  15  50
                  \
                   5 
                  
         -------Alturas------
            
            15/50/5 -> Altura = 0
            
            3/26 -> Altura = 1
            
            1 -> Altura = 2
            
            10 -> Altura = 3
            
        -------Balanceamento------
        
            5 -> -1 - (-1) = 0 -> <strong>BALANCEADO</strong>
            
            3 -> -1 - 0 = -1 -> <strong>BALANCEADO</strong>
            
            1 -> -1 - 1 = -2 -> <strong>NÃO BALANCEADO</strong>
                </pre>
            <p>Logo, a <strong>inserção de um elemento na árvore, pode desbalancea-la</strong>, tornando o fator de balanceamento de um elemento, fora do conjunto.</p>
            <p>Para fazer com que a árvore volte a ser balanceada, é necessário fazer <strong>rotações</strong> em torno do elemento não balanceado, esta rotação poderá ser para <strong>esquerda ou direita</strong>, dependendo de <strong>qual lado o novo elemento foi inserido</strong>, ou seja, <strong>troca-se o elemento desbalanceado com a sua sub-árvore</strong>, por exemplo:</p>
            <pre>
            
                  10        
                /    \      
               1      26   
                \    /  \ 
                 3  15  50
                  \
                   5 
                  
         -------Alturas------
            
            15/50/5 -> Altura = 0
            
            3/26 -> Altura = 1
            
            1 -> Altura = 2
            
            10 -> Altura = 3
            
        -------Balanceamento------
        
            5 -> -1 - (-1) = 0 -> <strong>BALANCEADO</strong>
            
            3 -> -1 - 0 = -1 -> <strong>BALANCEADO</strong>
            
            1 -> -1 - 1 = -2 -> <strong>NÃO BALANCEADO</strong>
            
            
        <strong>Foi identificado que o elemento 1 está desbalanceado, então aplica-se a rotação. Perceba que o elemento inserido por fim (5) foi no lado direito, então a rotação será feito para o lado contrário:</strong>    
            
                  10        
                /    \      
               3      26   
              / \    /  \ 
             1   5  15  50
             
        -------Alturas------
            
            1/5/15/50 -> Altura = 0
            
            3/26 -> Altura = 1
            
            10 -> Altura = 2
            
        -------Balanceamento------
        
            1/5/15/50 -> -1 - (-1) = 0 -> <strong>BALANCEADO</strong>
            
            3/26 -> 0 - 0 = 0 -> <strong>BALANCEADO</strong>
            
            10 -> 1 - 1 = 0 -> <strong>BALANCEADO</strong>
            
            
        <strong>Já em um exemplo 2, o conceito é o mesmo, com apenas uma diferença:</strong>
                   
                  X        
                /   \      
               Y     C   
              / \     
             A   B  
            /
            
            -------Alturas------
            
            B/C -> Altura = H
            
            A -> Altura = H+1
            
            Y -> Altura = H+2
            
            X -> Altura = H+3
            
            -------Balanceamento------
            
            Y -> (H-1) - H = -1 -> <strong>BALANCEADO</strong>
            
            X -> (H+2) - H =  2 -> <strong>NÃO BALANCEADO</strong>
            
        <strong>Faz-se uma rotação para direita (troca X por Y)</strong>
        
                  Y        
                /   \      
               A     X   
              /     / \     
                   B   C  
                  
            -------Alturas------
            
            B/C -> Altura = H
            
            A/x -> Altura = H+1
            
            Y -> Altura = H+2
            
            -------Balanceamento------
            
            Y -> (H-1) - (H-1) = 0 -> <strong>BALANCEADO</strong>
            
            </pre>
            <p>Perceba que após a rotação, <strong>X herdou a sub-árvore interna B</strong>, isso ocorrerá em <strong>qualquer rotação que tiver sub-árvores na parte interna da árvore</strong>:</p>
            <pre>
                  Y        
                /   \      
               A     X   
              /     / \     
                   B   C
                      /
                     T
                     
                     
            A/X/C -> <strong>SUB-ÁRVORES EXTERNAS</strong>
            
            B/T -> <strong>SUB-ÁRVORES INTERNAS</strong>
            </pre>
            <p>Ou seja, <strong>ao inserir elemento na parte externa e gerar desbalanceamento, faz-se rotação SIMPLES</strong>. Porém, caso contrário, <strong>se o elemento for inserido na parte interna e gerar desbalanceamento, deverá ser realizada uma rotação DUPLA</strong></p>
            <ul>
                <li><strong>Rotação Dupla</strong></li>
                <p>A rotação dupla ocorre quando a <strong>inserção do elemento é feita nas sub-árvores internas</strong>, para isso, duas rotações devem ser feitas, seguindo os mesmos princípios anteriores. A primeira rotação será feita para o <strong>lado contrário do elemento inserido</strong> e a segunda <strong>para o mesmo do elemento inserido</strong>, por exemplo:</p>
                <pre>
                  X        
                /   \      
               Y     SUBc   
             /   \     
          SUBa    Z   
                /   \
            SUBd    SUBe
            
            
            -------Alturas------
            
            X = H+3
            
            Y = H+2
            
            SUBa/SUBc = H
            
            
        <strong>Como Z foi inserido no lado direito, rode Y-Z para o lado contrário primeiro</strong>
        
                  X        
                /   \      
               Z     SUBc   
             /   \     
            Y    SUBe   
          /   \
       SUBa    SUBd
       
       <strong>Agora basta rodar X-Z para o lado que o elemento foi inserido (direito no caso)</strong>
       
                     Z   
                     
                /        \      
               Y           X   
             /   \        / \
         SUBa    SUBd  SUBe SUBc   
 
                </pre>
            </ul>
            <p>Para uma visualização mais resumida e dinâmica, seguem algumas imagens:</p>
            <ol>
                <li>Rotação simples à direita</li>
                <br>
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fb/AVL_Rota%C3%A7%C3%A3o_Simples_%C3%A0_Direita.PNG/507px-AVL_Rota%C3%A7%C3%A3o_Simples_%C3%A0_Direita.PNG" alt="Descrição">
                <br>
                <br>
                <li>Rotação simples à esquerda</li>
                <br>
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b9/AVL_Rota%C3%A7%C3%A3o_Simples_%C3%A0_Esquerda.PNG/540px-AVL_Rota%C3%A7%C3%A3o_Simples_%C3%A0_Esquerda.PNG" alt="Descrição">
                <br>
                <br>
                <li>Rotação dupla à direita</li>
                <br>
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3b/AVL_Rota%C3%A7%C3%A3o_Dupla_%C3%A0_Direita.PNG/496px-AVL_Rota%C3%A7%C3%A3o_Dupla_%C3%A0_Direita.PNG" alt="Descrição">
                <br>
                <br>
                <li>Rotação dupla à esquerda</li>
                <br>
                <img src="https://upload.wikimedia.org/wikipedia/commons/2/2c/AVL_Rota%C3%A7%C3%A3o_Dupla_%C3%A0_Esquerda.PNG" alt="Descrição">
            </ol>
        </ul>
    </body>
</html>